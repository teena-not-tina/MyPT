// utils/ingredientClassification.js

// 식재료명 기반 분류 사전
export const INGREDIENT_CATEGORIES = {
  // 곡류
  '곡류': [
    '쌀', '현미', '백미', '찹쌀', '흑미', '보리', '귀리', '밀', '옥수수', '수수', '조', '기장',
    '퀴노아', '메밀', '쌀가루', '밀가루', '옥수수가루', '전분', '떡', '누룽지', '식빵', '빵',
    '면', '국수', '파스타', '스파게티', '우동', '라면', '냉면', '당면', '쌀국수'
  ],
  
  // 육류
  '육류': [
    '소고기', '돼지고기', '닭고기', '오리고기', '양고기', '염소고기', '사슴고기', '토끼고기',
    '갈비', '불고기', '등심', '안심', '목살', '삼겹살', '앞다리', '뒷다리', '닭가슴살', '닭다리',
    '닭날개', '닭발', '족발', '순대', '소세지', '햄', '베이컨', '육회', '간', '콩팥', '심장',
    '곱창', '대창', '막창', '양', '육수', '사골', '도가니', '꼬리', '갈빗대', '목뼈'
  ],
  
  // 어패류
  '어패류': [
    '생선', '고등어', '삼치', '갈치', '꽁치', '조기', '민어', '농어', '광어', '가자미', '우럭',
    '숭어', '연어', '참치', '다랑어', '명태', '대구', '아귀', '장어', '뱀장어', '붕어', '잉어',
    '송어', '전어', '멸치', '정어리', '새우', '게', '꽃게', '대게', '킹크랩', '랍스터',
    '조개', '굴', '전복', '소라', '키조개', '가리비', '홍합', '바지락', '재첩', '맛조개',
    '오징어', '낙지', '문어', '쭈꾸미', '갑오징어', '한치', '해삼', '성게', '멍게', '미역',
    '다시마', '김', '파래', '톳', '모자반', '젓갈', '굴비', '북어', '황태', '코다리',
    '마른오징어', '건새우', '마른멸치', '어묵', '게맛살', '맛살', '젓갈', '액젓', '새우젓'
  ],
  
  // 채소류
  '채소류': [
    '배추', '양배추', '상추', '시금치', '미나리', '쑥갓', '근대', '청경채', '갓', '케일',
    '브로콜리', '콜리플라워', '양상추', '치커리', '아루굴라', '로메인', '적상추', '쌈채소',
    '무', '당근', '감자', '고구마', '토란', '마', '연근', '우엉', '도라지', '더덕',
    '양파', '대파', '쪽파', '부추', '마늘', '생강', '고추', '피망', '파프리카', '오이',
    '호박', '애호박', '단호박', '가지', '토마토', '방울토마토', '옥수수', '콩나물', '숙주',
    '고사리', '도라지', '버섯', '느타리버섯', '팽이버섯', '새송이버섯', '표고버섯', '송이버섯',
    '목이버섯', '석이버섯', '만가닥버섯', '양송이버섯', '죽순', '연잎', '연뿌리', '치자',
    '깻잎', '상추', '겨자채', '냉이', '달래', '두릅', '죽순', '고춧잎', '호박잎',
    '김치', '깍두기', '총각김치', '오이소박이', '물김치', '동치미', '장아찌', '피클'
  ],
  
  // 과일류
  '과일류': [
    '사과', '배', '복숭아', '자두', '살구', '체리', '포도', '딸기', '참외', '수박', '멜론',
    '바나나', '오렌지', '귤', '감', '곶감', '석류', '키위', '파인애플', '망고', '아보카도',
    '레몬', '라임', '자몽', '오미자', '대추', '무화과', '감귤', '한라봉', '천혜향', '레드향',
    '블루베리', '라즈베리', '크랜베리', '건포도', '건살구', '건자두', '견과류', '호두',
    '아몬드', '땅콩', '잣', '피스타치오', '헤이즐넛', '마카다미아', '피칸', '캐슈넛',
    '밤', '은행', '도토리', '해바라기씨', '호박씨', '참깨', '들깨', '검은깨', '잼',
    '마멀레이드', '과일청', '과일즙', '과일퓨레'
  ],
  
  // 콩류
  '콩류': [
    '콩', '대두', '검은콩', '서리태', '완두콩', '강낭콩', '팥', '녹두', '렌틸콩', '병아리콩',
    '두부', '순두부', '연두부', '부침개용두부', '유부', '콩나물', '두유', '콩가루', '콩기름',
    '된장', '간장', '고추장', '쌈장', '청국장', '낫토', '미소', '두반장', '콩비지',
    '콩국수', '콩죽', '인절미', '콩떡', '콩조림', '콩자반', '콩엿', '템페'
  ],
  
  // 유제품
  '유제품': [
    '우유', '저지방우유', '무지방우유', '전지우유', '생크림', '휘핑크림', '사워크림',
    '크림치즈', '치즈', '체다치즈', '모짜렐라치즈', '파마산치즈', '고르곤졸라치즈',
    '까망베르치즈', '브리치즈', '슬라이스치즈', '스트링치즈', '리코타치즈', '마스카포네',
    '요거트', '요구르트', '그릭요거트', '플레인요거트', '딸기요거트', '블루베리요거트',
    '버터', '마가린', '발효버터', '무염버터', '유청', '연유', '분유', '아이스크림',
    '젤라토', '셔벳', '유산균음료', '케피어', '라씨'
  ],
  
  // 계란류
  '계란류': [
    '계란', '달걀', '메추리알', '오리알', '염란', '피단', '삶은계란', '날계란', '계란흰자',
    '계란노른자', '계란물', '스크램블', '오믈렛', '계란찜', '계란말이', '계란후라이',
    '계란샐러드', '마요네즈', '계란국', '계란죽', '계란빵', '카스테라'
  ],
  
  // 조미료/양념류
  '조미료': [
    '소금', '설탕', '흑설탕', '황설탕', '꿀', '메이플시럽', '올리고당', '물엿', '조청',
    '식초', '사과식초', '현미식초', '발사믹식초', '와인식초', '미림', '맛술', '청주',
    '소주', '맥주', '와인', '브랜디', '럼', '진', '보드카', '위스키', '사케',
    '참기름', '들기름', '올리브오일', '포도씨오일', '카놀라오일', '해바라기유', '코코넛오일',
    '버터', '라드', '쇼트닝', '마가린', '식용유', '튀김기름', '후추', '계피', '정향',
    '육두구', '올스파이스', '바질', '로즈마리', '타임', '오레가노', '파슬리', '고수',
    '딜', '세이지', '라벤더', '민트', '강황', '커리가루', '카레가루', '칠리파우더',
    '파프리카파우더', '마늘가루', '양파가루', '생강가루', '후추가루', '계피가루',
    '겨자', '와사비', '고추냉이', '마요네즈', '케첩', '머스타드', '타바스코', '핫소스',
    '우스터소스', '굴소스', '어간장', '생선간장', '국간장', '진간장', '양조간장',
    '미소', '멘츠유', '폰즈', '테리야키소스', '바베큐소스', '스테이크소스', '토마토소스',
    '파스타소스', '피자소스', '살사소스', '페스토', '치즈소스', '화이트소스', '브라운소스'
  ],
  
  // 기타/가공식품
  '기타': [
    '라면', '컵라면', '우동', '소바', '쌀국수', '파스타', '마카로니', '시리얼', '콘플레이크',
    '오트밀', '그래놀라', '뮤즐리', '크래커', '비스킷', '쿠키', '케이크', '파이', '도넛',
    '머핀', '스콘', '와플', '팬케이크', '토스트', '샌드위치', '햄버거', '핫도그', '피자',
    '만두', '교자', '슈마이', '딤섬', '춘권', '튀김', '돈까스', '치킨', '너겟', '소시지',
    '햄', '베이컨', '살라미', '통조림', '참치캔', '옥수수캔', '토마토캔', '콩캔', '스팸',
    '인스턴트', '즉석밥', '죽', '스프', '육수', '다시마', '멸치', '북어', '황태',
    '젓갈', '김치', '장아찌', '피클', '올리브', '케이퍼', '아몬드', '견과류', '건과일',
    '과자', '초콜릿', '사탕', '젤리', '푸딩', '요거트', '아이스크림', '빙수', '팥빙수',
    '호떡', '붕어빵', '잇템빵', '찐빵', '단팥빵', '크림빵', '소보로빵', '식빵', '바게트',
    '치아바타', '베이글', '크루아상', '데니쉬', '브리오슈', '프레첼', '나초', '팝콘',
    '견과류', '드라이프루츠', '육포', '어포', '김', '멸치', '오징어', '새우깡', '감자칩'
  ]
};

// 텍스트에서 식재료명 추출
export const extractIngredientsFromText = (text) => {
  if (!text) return [];
  
  const foundIngredients = [];
  
  // 모든 카테고리의 식재료를 검색
  for (const [category, ingredients] of Object.entries(INGREDIENT_CATEGORIES)) {
    for (const ingredient of ingredients) {
      if (text.includes(ingredient)) {
        foundIngredients.push({
          name: ingredient,
          category: category
        });
      }
    }
  }
  
  return foundIngredients;
};

// 식재료 기반 분류 함수 (fallback용)
export const classifyByIngredientsOnly = (text) => {
  const foundIngredients = extractIngredientsFromText(text);
  
  return {
    found_ingredients: foundIngredients,
    predicted_category: foundIngredients.length > 0 ? foundIngredients[0].name : null,
    confidence: foundIngredients.length > 0 ? 0.8 : 0.0
  };
};